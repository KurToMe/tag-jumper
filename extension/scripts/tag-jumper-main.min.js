var tjump;tjump={},tjump.overlay=document.createElement("div"),tjump.overlay.id="main-overlay",tjump.overlay.className+="overlay",tjump.canvas=document.createElement("canvas"),tjump.canvas.id="main-canvas",tjump.canvas.className+="canvas",tjump.overlay.appendChild(tjump.canvas),tjump.ctx=tjump.canvas.getContext("2d"),document.body.appendChild(tjump.overlay),tjump.SCALE=30,tjump.FRAME_RATE=1/60,tjump.VELOCITY_ITERATIONS=10,tjump.POSITION_ITERATIONS=10,tjump.GRAVITY=new Box2D.Common.Math.b2Vec2(0,0),tjump.WIDTH=tjump.canvas.width,tjump.HEIGHT=tjump.canvas.height,tjump.scaleToPhys=function(e){return e/tjump.SCALE},tjump.scaleVecToPhys=function(e){return e.Multiply(1/tjump.SCALE),e},tjump.scaleToScreen=function(e){return e*tjump.SCALE},tjump.applyXForce=function(e,t){var n,r,i;return n=Box2D.Common.Math.b2Vec2,r=e.GetPosition(),i=new n(t,0),e.ApplyForce(i,r)},tjump.applyYForce=function(e,t){var n,r,i;return n=Box2D.Common.Math.b2Vec2,r=e.GetPosition(),i=new n(0,t),e.ApplyForce(i,r)},tjump.isBodyInContact=function(e,t){var n,r;return n=e.GetFixtureA().GetBody(),r=e.GetFixtureB().GetBody(),n===t||r===t?!0:!1},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)}}(),tjump.createWalls=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;return t=Box2D.Dynamics.b2BodyDef,e=Box2D.Dynamics.b2Body,n=Box2D.Dynamics.b2FixtureDef,r=Box2D.Collision.Shapes.b2PolygonShape,u=new n,u.density=1,u.friction=0,u.restitution=.2,i=new t,i.type=e.b2_staticBody,u.shape=new r,i.position.x=0,i.position.y=tjump.scaleToPhys(tjump.HEIGHT/2),f=tjump.scaleToPhys(5),a=tjump.scaleToPhys((tjump.HEIGHT+10*tjump.BALL_RADIUS)/2),u.shape.SetAsBox(f,a),tjump.leftWall=tjump.world.CreateBody(i),tjump.leftWall.CreateFixture(u),i.position.x=tjump.scaleToPhys(tjump.WIDTH/2),i.position.y=0,g=tjump.scaleToPhys(tjump.WIDTH/2),h=tjump.scaleToPhys(5),u.shape.SetAsBox(g,h),tjump.world.CreateBody(i).CreateFixture(u),i.position.x=tjump.scaleToPhys(tjump.WIDTH),i.position.y=tjump.scaleToPhys(tjump.HEIGHT/2),c=f,l=a,u.shape.SetAsBox(c,a),tjump.world.CreateBody(i).CreateFixture(u),i.position.x=tjump.scaleToPhys(tjump.WIDTH/2),i.position.y=tjump.scaleToPhys(tjump.HEIGHT+5*tjump.BALL_RADIUS),o=g,s=h,u.shape.SetAsBox(o,h),tjump.bottomWall=tjump.world.CreateBody(i),tjump.bottomWall.CreateFixture(u),i.position.x=tjump.scaleToPhys(1),i.position.y=tjump.scaleToPhys(1),i.angle=Math.PI/4,d=tjump.scaleToPhys(15),p=tjump.scaleToPhys(15),u.shape.SetAsBox(d,p),tjump.world.CreateBody(i).CreateFixture(u),i.position.x=tjump.scaleToPhys(tjump.WIDTH-1),i.position.y=tjump.scaleToPhys(1),i.angle=Math.PI/4,m=tjump.scaleToPhys(15),v=tjump.scaleToPhys(15),u.shape.SetAsBox(m,v),tjump.world.CreateBody(i).CreateFixture(u)},tjump.beginContact=function(e){return tjump.paddleAi.beginContact(e)},tjump.init=function(){var e,t,n,r;return t=Box2D.Dynamics.b2DebugDraw,e=!0,tjump.world=new Box2D.Dynamics.b2World(tjump.GRAVITY,e),tjump.createWalls(),r=new Box2D.Dynamics.b2ContactListener,r.BeginContact=tjump.beginContact,tjump.world.SetContactListener(r),n=new t,n.SetSprite(tjump.ctx),n.SetDrawScale(tjump.SCALE),n.SetFillAlpha(.4),n.SetLineThickness(1),n.SetFlags(t.e_shapeBit|t.e_jointBit),tjump.world.SetDebugDraw(n)},tjump.update=function(){return tjump.world.Step(tjump.FRAME_RATE,tjump.VELOCITY_ITERATIONS,tjump.POSITION_ITERATIONS),tjump.world.DrawDebugData(),tjump.world.ClearForces(),requestAnimFrame(tjump.update)},tjump.init(),requestAnimFrame(tjump.update)